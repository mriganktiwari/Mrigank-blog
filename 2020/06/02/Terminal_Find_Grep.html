<h1 id="terminal-commands">Terminal commands</h1>

<h2 id="find">find</h2>

<p><code class="language-plaintext highlighter-rouge">man find</code></p>

<h3 id="search-by-type-file-or-dir">Search by Type (file or dir)</h3>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find .</code></td>
          <td>Find all the files &amp; directories under current directory</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt;</code></td>
          <td>Find all the files &amp; directories under <dir></dir></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type d</code></td>
          <td>Find only directories under specific directory</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find . -type d</code></td>
          <td>Find only directories under current directory</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f</code></td>
          <td>Find only files under specific directory</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find . -type f</code></td>
          <td>Find only files under current directory</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h3 id="search-by-file-name">Search by file name</h3>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "&lt;test1.txt&gt;"</code></td>
          <td>Find a file with a specific name</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "&lt;test*&gt;"</code></td>
          <td>Find a file starting with the name ‘test’</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -iname "&lt;test*&gt;"</code></td>
          <td>Find a file starting with the name ‘test’ or ‘Test’ &amp; Case Insensitive</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -iname "&lt;*.py&gt;"</code></td>
          <td>Find a file ending with the name ‘.py’ &amp; Case Insensitive</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h3 id="search-by-time--day">Search by time / day</h3>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -mmin -10</code></td>
          <td>All the files modified in last 10 mins</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -mmin +10</code></td>
          <td>All the files modified in more than last 10 mins ago</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -mmin +1 -mmin -5</code></td>
          <td>More than 1 min ago and less than 5 mins ago</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -mtime -20</code></td>
          <td>Files modified less than 20 days ago</td>
        </tr>
      </tbody>
    </table>

    <ul>
      <li>mmin, mtime</li>
      <li>amin, atime</li>
      <li>cmin, ctime</li>
    </ul>
  </li>
</ul>

<h3 id="search-by-file-size">Search by file size</h3>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -size +5M</code></td>
          <td>Find all the files over 5 MB under <dir> directory</dir></td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li>M - MB</li>
      <li>k - KB</li>
      <li>G - GB</li>
    </ul>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">ls -lah &lt;dir&gt;</code></td>
          <td>List all files and dirs with size in MB</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -empty</code></td>
          <td>Find all empty files in <dir> directory</dir></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h3 id="search-based-on-permissions">Search based on permissions</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -perm 777</code></li>
</ul>

<h5 id="change-user--group-for-every-file--dir-under-">Change user &amp; group for every file &amp; dir under <dir></dir></h5>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-exec</code></td>
          <td>Executes the following command on the results from preceding command</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">{}</code></td>
          <td>Placeholder for just the filenamees that would be be used in case of chown command</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">+</code> or <code class="language-plaintext highlighter-rouge">\;</code></td>
          <td>Either can be used to end the command</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -exec chown [user]:[group] {} +</code></li>
</ul>

<h5 id="lets-try-setting-permissions-of-all-directories-to-775-and-all-files-to-664">Lets try setting permissions of all directories to 775 and all files to 664</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type d -exec chmod 775 {} +</code></li>
  <li><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -exec chmod 664 {} +</code></li>
</ul>

<h3 id="search-and-perform-actions">Search and perform actions</h3>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "*.jpg"</code></td>
          <td>Search all image files ending in .jpg in <dir> and subsequent directories</dir></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "*.jpg" -maxdepth 1</code></td>
          <td>Search all image files ending in .jpg only and only in <dir></dir></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "*.jpg" -exec rm {} +</code></td>
          <td>Deletes all the files returned from the command precesing <code class="language-plaintext highlighter-rouge">-exec</code></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">find &lt;dir&gt; -type f -name "*.jpg" -maxdepth 1 -exec rm {} +</code></td>
          <td>Deletes all the files returned from the command precesing <code class="language-plaintext highlighter-rouge">-exec</code></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h2 id="_grep-global-regular-expression-print">_grep (Global Regular Expression Print)</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">grep</code> is case sensitive</li>
</ul>

<h3 id="finding-is-a-given-text-is-present-in-some-file">Finding is a given text is present in some file</h3>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep "text_to_find" &lt;file_name&gt;</code></td>
          <td>Searching for some text in a normal file</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep -w "text_to_find" &lt;file_name&gt;</code></td>
          <td>Return results from <code class="language-plaintext highlighter-rouge">file_name</code> only when whole words match <code class="language-plaintext highlighter-rouge">text_to_find</code></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep -wi "text_to_find" &lt;file_name&gt;</code></td>
          <td>Returns results with both lower case and upper case with <code class="language-plaintext highlighter-rouge">text_to_find</code></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h3 id="finding-some-additional-information">Finding some additional information</h3>

<h5 id="line-number-of-where-we-found-our-match">Line number of where we found our match</h5>

<ol>
  <li><em>Returns results with line number.</em>
    <ul>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win "text_to_find" &lt;file_name&gt;</code></td>
              <td>Returns results with line numbers in <code class="language-plaintext highlighter-rouge">file_name</code></td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win "text_to_find" ./*</code></td>
              <td>Returns results with line numbers in all files in current directory + Will throw error for any subdirectory that might be present.</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win "text_to_find" ./*.txt</code></td>
              <td>Doesn’t try to search in any subdirectory.</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -winr "text_to_find" .</code></td>
              <td>To search every file and through every subdirectory, a recursive search, might get lot of results.</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
  <li><em>Getting some additional context of where this match is found, see a certain number of lines before and after a match.</em>
    <ul>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win -B 4 "text_to_find" &lt;file_name&gt;</code></td>
              <td>4 lines Before all of our match</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win -A 4 "text_to_find" &lt;file_name&gt;</code></td>
              <td>4 lines After all of our match</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -win -C 2 "text_to_find" &lt;file_name&gt;</code></td>
              <td>2 lines Before and After all of our match</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
  <li><em>If you’re only interested in file_names with the matches, NOT in the matches themselves.</em>
    <ul>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -wirl "text_to_find" .</code></td>
              <td>Recursive result of all files with the match</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">grep -wirc "text_to_find" .</code></td>
              <td>Recursive result of all files with the match + Number of matches in each file</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
</ol>

<h3 id="pipe-the-output-of-other-commands-in-to-grep-to-search-for-something">Pipe the output of other commands in to <strong>grep</strong> to search for something</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">history | grep "git commit"</code></li>
  <li><code class="language-plaintext highlighter-rouge">history | grep "git commit" | grep "dotfile"</code></li>
</ul>

<h5 id="grep-uses-posix-regular-expressions-by-default"><strong>grep</strong> uses Posix regular expressions by default</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">grep "...-...-...." &lt;filename&gt;</code></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep "\d{3}-\d{3}-\d{4}" &lt;filename&gt;</code></td>
          <td>This wouldn’t work, because this is pro compatible regular expressions which grep doesn’t use.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep -P "\d{3}-\d{3}-\d{4}" &lt;filename&gt;</code></td>
          <td>This would allow it to work on Linux, NOT on Mac</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">grep -wirlP "\d{3}-\d{3}-\d{4}" &lt;filename&gt;</code></td>
          <td>Return recursive list of list with matching phone numbers</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><code class="language-plaintext highlighter-rouge">grep -V</code>
    <ul>
      <li>Mac uses BSD grep</li>
      <li>Linux uses GNU grep`</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">brew install grep --with-default-names</code>
    <ul>
      <li>
        <table>
          <tbody>
            <tr>
              <td><code class="language-plaintext highlighter-rouge">--with-default-names</code></td>
              <td>It will install it as grep, else as ggrep (allowing us to use both BSD and GNU grep)</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
  </li>
</ul>
